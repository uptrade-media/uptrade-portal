/* Google Fonts - must be at top */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@import "tailwindcss";

/* Print styles for PDF export */
@media print {
  /* Hide all UI chrome */
  button, 
  nav, 
  aside,
  .fixed,
  [class*="sidebar"],
  [class*="back-to-top"] {
    display: none !important;
  }
  
  /* Full width for content */
  .max-w-4xl {
    max-width: 100% !important;
  }
  
  /* Clean white background */
  body, html {
    background: white !important;
    color: black !important;
  }
  
  /* Remove all shadows and effects */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
    border-radius: 0 !important;
  }
  
  /* Better page breaks */
  .card, 
  section {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  /* Ensure text is readable */
  h1, h2, h3, h4, h5, h6 {
    color: #111 !important;
    page-break-after: avoid;
  }
  
  p, li {
    color: #333 !important;
  }
  
  /* Force backgrounds to white */
  .bg-gradient-to-r,
  [class*="bg-"] {
    background: white !important;
    border: 1px solid #ddd !important;
  }
  
  /* Print links as text */
  a {
    text-decoration: none !important;
    color: inherit !important;
  }
  
  /* Signature section */
  canvas {
    border: 1px solid #333 !important;
  }
}

/* Print-specific title page */
@media print {
  @page {
    margin: 1.5cm;
    size: A4;
  }
  
  @page :first {
    margin-top: 2cm;
  }
}

/* ================================================
   LIQUID GLASS DESIGN SYSTEM
   iOS 26 / Apple Design Language
   ================================================ */

/* ------------------------------------------------
   LIGHT THEME (Default)
   ------------------------------------------------ */
:root {
  /* Page background */
  --surface-page: #f5f5f7;
  --surface-page-secondary: #ffffff;
  
  /* Glass surfaces - 50% tint for wave background visibility */
  --glass-bg: rgba(255, 255, 255, 0.20);
  --glass-bg-hover: rgba(255, 255, 255, 0.60);
  --glass-bg-elevated: rgba(255, 255, 255, 0.70);
  --glass-bg-inset: rgba(0, 0, 0, 0.03);
  
  /* Glass borders */
  --glass-border: rgba(0, 0, 0, 0.06);
  --glass-border-strong: rgba(0, 0, 0, 0.12);
  --glass-ring: rgba(0, 0, 0, 0.08);
  
  /* Text colors */
  --text-primary: rgba(0, 0, 0, 0.88);
  --text-secondary: rgba(0, 0, 0, 0.55);
  --text-tertiary: rgba(0, 0, 0, 0.35);
  --text-inverted: rgba(255, 255, 255, 0.95);
  
  /* Inverted surface (for tooltips, etc) */
  --surface-inverted: rgba(28, 28, 30, 0.95);
  
  /* Accent colors (Apple palette) */
  --accent-blue: #007AFF;
  --accent-blue-hover: #0066D6;
  --accent-green: #34C759;
  --accent-green-hover: #2DB14E;
  --accent-orange: #FF9500;
  --accent-orange-hover: #E68600;
  --accent-red: #FF3B30;
  --accent-red-hover: #E6352B;
  --accent-purple: #AF52DE;
  --accent-pink: #FF2D55;
  --accent-teal: #5AC8FA;
  --accent-yellow: #FFCC00;
  
  /* Brand colors */
  --brand-primary: #4bbf39;
  --brand-primary-hover: #3da82f;
  --brand-secondary: #39bfb0;
  --brand-secondary-hover: #2fa89c;

  /* Theme locks (exceptions) */
  /* Use this on subtrees that should NOT inherit org brand colors. */
  --brand-primary-default: #4bbf39;
  --brand-primary-hover-default: #3da82f;
  --brand-secondary-default: #39bfb0;
  --brand-secondary-hover-default: #2fa89c;
  

/* Keep excluded UI areas on Uptrade defaults (Audit/Proposals/etc.). */
[data-theme-lock="default"] {
  --brand-primary: var(--brand-primary-default);
  --brand-primary-hover: var(--brand-primary-hover-default);
  --brand-secondary: var(--brand-secondary-default);
  --brand-secondary-hover: var(--brand-secondary-hover-default);
}
  /* Semantic colors */
  --color-success: var(--accent-green);
  --color-warning: var(--accent-orange);
  --color-error: var(--accent-red);
  --color-info: var(--accent-blue);
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.08);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.10);
  --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.06), 
                  inset 0 0 0 0.5px rgba(255, 255, 255, 0.5);
  --shadow-glass-elevated: 0 12px 40px rgba(0, 0, 0, 0.10),
                           inset 0 0 0 0.5px rgba(255, 255, 255, 0.6);
  
  /* Blur amounts - increased for wave background */
  --blur-sm: 12px;
  --blur-md: 24px;
  --blur-lg: 40px;
  --blur-xl: 56px;
  
  /* Border radius */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 22px;
  --radius-2xl: 28px;
  --radius-full: 9999px;
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 400ms ease;
  --transition-spring: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Spacing (4px base) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;

  /* Color scheme for native elements */
  color-scheme: light;
}

/* ------------------------------------------------
   DARK THEME
   ------------------------------------------------ */
.dark {
  /* Page background */
  --surface-page: #000000;
  --surface-page-secondary: #0a0a0a;
  
  /* Ultra Glass surfaces - 50% tint for wave background visibility */
  --glass-bg: rgba(0, 0, 0, 0.20);
  --glass-bg-hover: rgba(0, 0, 0, 0.55);
  --glass-bg-elevated: rgba(0, 0, 0, 0.60);
  --glass-bg-inset: rgba(0, 0, 0, 0.25);
  
  /* Glass borders - crisp white edges for liquid effect */
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-border-strong: rgba(255, 255, 255, 0.28);
  --glass-ring: rgba(255, 255, 255, 0.20);
  
  /* Text colors */
  --text-primary: rgba(255, 255, 255, 0.92);
  --text-secondary: rgba(255, 255, 255, 0.55);
  --text-tertiary: rgba(255, 255, 255, 0.35);
  --text-inverted: rgba(0, 0, 0, 0.88);
  
  /* Inverted surface (for tooltips, etc) */
  --surface-inverted: rgba(250, 250, 250, 0.95);
  
  /* Shadows - liquid glass depth */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 8px 16px rgba(0, 0, 0, 0.35);
  --shadow-lg: 0 16px 32px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 24px 64px rgba(0, 0, 0, 0.5);
  --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.5), 
                  0 0 1px rgba(255, 255, 255, 0.3),
                  inset 0 1px 0 rgba(255, 255, 255, 0.15),
                  inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  --shadow-glass-elevated: 0 16px 48px rgba(0, 0, 0, 0.6),
                           0 0 1px rgba(255, 255, 255, 0.4),
                           inset 0 1px 0 rgba(255, 255, 255, 0.2),
                           inset 0 -1px 0 rgba(0, 0, 0, 0.25);
  
  /* Ultra blur for liquid glass - wave background */
  --blur-sm: 16px;
  --blur-md: 32px;
  --blur-lg: 56px;
  --blur-xl: 72px;
  
  /* Color scheme for native elements */
  color-scheme: dark;
}

/* ------------------------------------------------
   BASE STYLES
   ------------------------------------------------ */
html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  height: 100%;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Inter', sans-serif;
  background-color: var(--surface-page);
  color: var(--text-primary);
  transition: background-color var(--transition-normal), 
              color var(--transition-normal);
  height: 100%;
  margin: 0;
}

/* Headings use SF Pro Display */
h1, h2, h3, h4, h5, h6 {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', sans-serif;
  font-weight: 600;
}

#root {
  height: 100%;
}

/* ------------------------------------------------
   GLASS UTILITIES - Ultra Glassmorphism
   ------------------------------------------------ */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--blur-lg)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--blur-lg)) saturate(180%);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-glass);
}

.glass-elevated {
  background: var(--glass-bg-elevated);
  backdrop-filter: blur(var(--blur-xl)) saturate(200%);
  -webkit-backdrop-filter: blur(var(--blur-xl)) saturate(200%);
  border: 1px solid var(--glass-border-strong);
  box-shadow: var(--shadow-glass-elevated);
}

.glass-inset {
  background: var(--glass-bg-inset);
  backdrop-filter: blur(var(--blur-md)) saturate(150%);
  -webkit-backdrop-filter: blur(var(--blur-md)) saturate(150%);
  border: 1px solid var(--glass-border);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* ------------------------------------------------
   FOCUS STATES
   ------------------------------------------------ */
.focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--accent-blue),
              0 0 0 6px rgba(0, 122, 255, 0.2);
}

/* ------------------------------------------------
   SCROLLBAR STYLING
   ------------------------------------------------ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--glass-border-strong);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* Hide scrollbar while keeping scroll (e.g. ModuleLayout columns) */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none !important;
}

/* ModuleLayout three columns: hide all scrollbars (native + Radix ScrollArea) */
[data-module-column] {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
[data-module-column]::-webkit-scrollbar {
  display: none !important;
}
[data-module-column] [data-slot="scroll-area-scrollbar"] {
  display: none !important;
}
[data-module-column] [data-slot="scroll-area-viewport"] {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
[data-module-column] [data-slot="scroll-area-viewport"]::-webkit-scrollbar {
  display: none !important;
}
[data-module-column] .overflow-auto::-webkit-scrollbar,
[data-module-column] .overflow-y-auto::-webkit-scrollbar,
[data-module-column] .overflow-x-auto::-webkit-scrollbar {
  display: none !important;
}

/* ------------------------------------------------
   TOUCH TARGETS (44px minimum on touch devices)
   ------------------------------------------------ */
@media (pointer: coarse) {
  .touch-target-min {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ------------------------------------------------
   REDUCED MOTION
   ------------------------------------------------ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ------------------------------------------------
   SELECTION
   ------------------------------------------------ */
::selection {
  background: var(--accent-blue);
  color: white;
}

/* ------------------------------------------------
   MDX CONTENT STYLING
   For proposal content rendered from MDX
   ------------------------------------------------ */
.mdx-content {
  /* Typography */
  font-size: 1rem;
  line-height: 1.75;
  color: var(--text-primary);
}

.mdx-content h1 {
  font-size: 2.25rem;
  font-weight: 700;
  margin-top: 2rem;
  margin-bottom: 1rem;
  color: var(--text-primary);
}

.mdx-content h2 {
  font-size: 1.75rem;
  font-weight: 700;
  margin-top: 2rem;
  margin-bottom: 1rem;
  color: var(--text-primary);
}

.mdx-content h3 {
  font-size: 1.375rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: var(--text-primary);
}

.mdx-content p {
  margin-bottom: 1rem;
  color: var(--text-secondary);
}

.mdx-content ul,
.mdx-content ol {
  margin-bottom: 1rem;
  padding-left: 1.5rem;
}

.mdx-content li {
  margin-bottom: 0.5rem;
  color: var(--text-secondary);
}

.mdx-content ul li {
  list-style-type: disc;
}

.mdx-content ol li {
  list-style-type: decimal;
}

.mdx-content strong {
  font-weight: 600;
  color: var(--text-primary);
}

.mdx-content a {
  color: var(--brand-primary);
  text-decoration: underline;
}

.mdx-content a:hover {
  opacity: 0.8;
}

.mdx-content blockquote {
  border-left: 4px solid var(--brand-primary);
  padding-left: 1rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: var(--text-secondary);
}

/* ================================================
   TREMOR CHART DARK THEME FIXES
   ================================================ */

/* Tremor uses these CSS custom properties for chart colors */
:root {
  /* Chart color palette - these map to Tremor's color names */
  --color-emerald-500: #10b981;
  --color-blue-500: #3b82f6;
  --color-amber-500: #f59e0b;
  --color-violet-500: #8b5cf6;
  --color-cyan-500: #06b6d4;
  --color-indigo-500: #6366f1;
  --color-purple-500: #a855f7;
  --color-fuchsia-500: #d946ef;
  --color-pink-500: #ec4899;
  --color-rose-500: #f43f5e;
  --color-red-500: #ef4444;
  --color-orange-500: #f97316;
  --color-teal-500: #14b8a6;
  --color-sky-500: #0ea5e9;
}

/* Override Tremor default colors globally in dark mode */
.dark {
  /* Tremor color overrides for dark theme */
  --tremor-content-DEFAULT: rgba(255, 255, 255, 0.55);
  --tremor-content-emphasis: rgba(255, 255, 255, 0.92);
  --tremor-content-subtle: rgba(255, 255, 255, 0.35);
  
  --tremor-border-DEFAULT: rgba(255, 255, 255, 0.08);
  
  --tremor-background-DEFAULT: transparent;
  --tremor-background-subtle: rgba(255, 255, 255, 0.04);
  --tremor-background-muted: rgba(44, 44, 46, 0.72);
}

/* Force text colors on all Tremor chart text elements */
.dark text {
  fill: rgba(255, 255, 255, 0.55) !important;
}

/* Axis lines and ticks */
.dark .recharts-cartesian-axis-line,
.dark .recharts-cartesian-axis-tick-line {
  stroke: rgba(255, 255, 255, 0.15) !important;
}

/* Grid lines */
.dark .recharts-cartesian-grid-horizontal line,
.dark .recharts-cartesian-grid-vertical line {
  stroke: rgba(255, 255, 255, 0.08) !important;
}

/* ================================================
   FORCE CHART FILL COLORS (Dark Mode Override)
   Tremor's fill classes may not resolve in dark mode
   ================================================ */

/* Emerald / Green */
.dark .fill-emerald-500,
.dark [class*="fill-emerald"] {
  fill: #10b981 !important;
}

/* Blue */
.dark .fill-blue-500,
.dark [class*="fill-blue"] {
  fill: #3b82f6 !important;
}

/* Amber / Yellow */
.dark .fill-amber-500,
.dark [class*="fill-amber"] {
  fill: #f59e0b !important;
}

/* Violet / Purple */
.dark .fill-violet-500,
.dark [class*="fill-violet"] {
  fill: #8b5cf6 !important;
}

/* Cyan */
.dark .fill-cyan-500,
.dark [class*="fill-cyan"] {
  fill: #06b6d4 !important;
}

/* Indigo */
.dark .fill-indigo-500,
.dark [class*="fill-indigo"] {
  fill: #6366f1 !important;
}

/* Purple */
.dark .fill-purple-500,
.dark [class*="fill-purple"] {
  fill: #a855f7 !important;
}

/* Fuchsia */
.dark .fill-fuchsia-500,
.dark [class*="fill-fuchsia"] {
  fill: #d946ef !important;
}

/* Pink */
.dark .fill-pink-500,
.dark [class*="fill-pink"] {
  fill: #ec4899 !important;
}

/* Rose */
.dark .fill-rose-500,
.dark [class*="fill-rose"] {
  fill: #f43f5e !important;
}

/* Red */
.dark .fill-red-500,
.dark [class*="fill-red"] {
  fill: #ef4444 !important;
}

/* Orange */
.dark .fill-orange-500,
.dark [class*="fill-orange"] {
  fill: #f97316 !important;
}

/* Teal */
.dark .fill-teal-500,
.dark [class*="fill-teal"] {
  fill: #14b8a6 !important;
}

/* Sky */
.dark .fill-sky-500,
.dark [class*="fill-sky"] {
  fill: #0ea5e9 !important;
}

/* Force stroke colors too */
.dark .stroke-emerald-500,
.dark [class*="stroke-emerald"] {
  stroke: #10b981 !important;
}

.dark .stroke-blue-500,
.dark [class*="stroke-blue"] {
  stroke: #3b82f6 !important;
}

.dark .stroke-violet-500,
.dark [class*="stroke-violet"] {
  stroke: #8b5cf6 !important;
}

.dark .stroke-cyan-500,
.dark [class*="stroke-cyan"] {
  stroke: #06b6d4 !important;
}

/* Recharts specific elements */
.dark .recharts-sector,
.dark .recharts-pie-sector path,
.dark .recharts-bar-rectangle path,
.dark .recharts-rectangle,
.dark .recharts-area-area,
.dark .recharts-line-curve {
  opacity: 1 !important;
}

/* Area chart fill should be slightly transparent */
.dark .recharts-area-area {
  fill-opacity: 0.4 !important;
}

/* Pie/Donut stroke */
.dark .recharts-pie-sector path,
.dark .recharts-sector {
  stroke: rgba(0, 0, 0, 0.3) !important;
  stroke-width: 2;
}

/* Tooltips */
.dark .recharts-tooltip-wrapper {
  outline: none !important;
}

.dark .recharts-default-tooltip {
  background: rgba(44, 44, 46, 0.95) !important;
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
}

.dark .recharts-tooltip-label {
  color: rgba(255, 255, 255, 0.92) !important;
}

.dark .recharts-tooltip-item {
  color: rgba(255, 255, 255, 0.72) !important;
}

/* Tremor chart tooltips - force dark theme */
/* Target the recharts tooltip wrapper that Tremor uses */
/* Only apply to default Tremor tooltips, not custom ones */
.dark .recharts-tooltip-wrapper > .recharts-default-tooltip,
.dark [class*="tremor"] .recharts-tooltip-wrapper > .recharts-default-tooltip {
  background: rgba(44, 44, 46, 0.95) !important;
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
}

/* Force all Tremor tooltip containers to be dark - but not custom tooltips */
.dark .recharts-default-tooltip > div,
.dark [class*="tremor"] [class*="tooltip"]:not([data-custom-tooltip]) {
  background: rgba(44, 44, 46, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
}

.dark [class*="tremor-ChartTooltip"],
.dark [data-tremor-element="ChartTooltip"] {
  background: rgba(44, 44, 46, 0.95) !important;
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
  color: rgba(255, 255, 255, 0.92) !important;
}

/* All text inside Tremor default tooltips (not custom) */
.dark .recharts-default-tooltip p,
.dark .recharts-default-tooltip span,
.dark .recharts-default-tooltip div,
.dark [class*="tremor-ChartTooltip"] p,
.dark [class*="tremor-ChartTooltip"] span,
.dark [class*="tremor-ChartTooltip"] div,
.dark [data-tremor-element="ChartTooltip"] p,
.dark [data-tremor-element="ChartTooltip"] span,
.dark [data-tremor-element="ChartTooltip"] div {
  color: rgba(255, 255, 255, 0.92) !important;
  background: transparent !important;
}

/* Tremor tooltip row text */
.dark .tremor-ChartTooltipRow-text,
.dark [class*="ChartTooltipRow"],
.dark [class*="TooltipRow"] {
  color: rgba(255, 255, 255, 0.72) !important;
  background: transparent !important;
}

/* Tremor tooltip value */
.dark .tremor-ChartTooltipRow-value,
.dark [class*="TooltipRow"] [class*="value"] {
  color: rgba(255, 255, 255, 0.92) !important;
  font-weight: 600 !important;
}

/* Legend */
.dark .recharts-legend-wrapper text,
.dark .recharts-legend-item-text {
  fill: rgba(255, 255, 255, 0.72) !important;
}

/* ─────────────────────────────────────────────────────────────────────────────
 * ChatKit Customization
 * Custom styles for the ChatKit component to match portal theme
 * ───────────────────────────────────────────────────────────────────────────── */

/* Container styling */
.chatkit-portal-container {
  min-height: 300px;
}

/* Main ChatKit iframe container */
.chatkit-portal iframe {
  border: none !important;
  border-radius: 0 !important;
  background: transparent !important;
}

/* Override ChatKit's internal styling via CSS variables */
.chatkit-portal-container {
  /* Brand-aware accent color - uses CSS custom properties from ThemeProvider */
  --chatkit-accent-primary: var(--brand-primary) !important;
  --chatkit-accent-hover: var(--brand-primary-hover) !important;
}

/* Dark theme enforcement for ChatKit */
.chatkit-dark {
  color-scheme: dark;
}

/* Messages module: reduced motion (Phase 3.9.2) */
@media (prefers-reduced-motion: reduce) {
  [data-messages] .animate-pulse {
    animation: none;
  }
  [data-messages] * {
    transition-duration: 0.05s !important;
  }
}

